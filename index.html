<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>15-Min Block Schedule</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }

    h1 {
      text-align: center;
      margin-bottom: 10px;
    }

    .schedule {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .item {
      border-bottom: 1px solid #eee;
      padding: 12px 0;
    }

    .time {
      font-weight: bold;
      color: #2a7ae2;
      width: 90px;
      display: inline-block;
    }

    .break {
      font-style: italic;
      color: #666;
    }

    .current {
      background: #d7f0ff;
      border-left: 5px solid #2a7ae2;
      padding-left: 15px;
    }

    button {
      display: block;
      margin: 0 auto 10px auto;
      padding: 6px 12px;
      background-color: #2a7ae2;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    #progressBar {
      width: 100%;
      height: 12px;
      margin: 10px 0 20px;
    }

    /* Dark Mode */
    body.dark {
      background: #121212;
      color: #eee;
    }

    body.dark .schedule {
      background: #1e1e1e;
      box-shadow: 0 2px 8px rgba(255, 255, 255, 0.05);
    }

    body.dark .time {
      color: #90caf9;
    }

    body.dark .break {
      color: #aaa;
    }
    .item input.check {
  margin-right: 8px;
  transform: scale(1.2);
}
.item.checked {
  opacity: 0.5;
  text-decoration: line-through;
}

    /* Mobile Optimization */
    @media (max-width: 500px) {
      .time {
        display: block;
        margin-bottom: 5px;
      }
    }
  </style>
</head>

<body>
  <h1>15-Minute Block Schedule</h1>
  <button onclick="document.body.classList.toggle('dark')">Toggle Dark Mode</button>
  <progress id="progressBar" value="0" max="100"></progress>

  <div id="currentTime" style="text-align:center; font-size:1.2em; margin-bottom:10px;"></div>

  <div class="schedule" id="schedule">
    <!-- 1-minute blocks from 21:45 to 22:45 -->
    <!-- Each block is an .item div with data-start, data-end, checkbox, and time+description -->
    <!-- Description can be just "Block N" or "Task N" for placeholder -->
  
    <!-- 21:45 to 21:46 -->
    <div class="item" data-start="21:45" data-end="21:46">
      <input type="checkbox" class="check" data-id="block-2145" />
      <span class="time">21:45 – 21:46</span> Task 1
    </div>
    <!-- 21:46 to 21:47 -->
    <div class="item" data-start="21:46" data-end="21:47">
      <input type="checkbox" class="check" data-id="block-2146" />
      <span class="time">21:46 – 21:47</span> Task 2
    </div>
    <!-- 21:47 to 21:48 -->
    <div class="item" data-start="21:47" data-end="21:48">
      <input type="checkbox" class="check" data-id="block-2147" />
      <span class="time">21:47 – 21:48</span> Task 3
    </div>
    <!-- 21:48 to 21:49 -->
    <div class="item" data-start="21:48" data-end="21:49">
      <input type="checkbox" class="check" data-id="block-2148" />
      <span class="time">21:48 – 21:49</span> Task 4
    </div>
    <!-- 21:49 to 21:50 -->
    <div class="item" data-start="21:49" data-end="21:50">
      <input type="checkbox" class="check" data-id="block-2149" />
      <span class="time">21:49 – 21:50</span> Task 5
    </div>
    <!-- 21:50 to 21:51 -->
    <div class="item" data-start="21:50" data-end="21:51">
      <input type="checkbox" class="check" data-id="block-2150" />
      <span class="time">21:50 – 21:51</span> Task 6
    </div>
    <!-- 21:51 to 21:52 -->
    <div class="item" data-start="21:51" data-end="21:52">
      <input type="checkbox" class="check" data-id="block-2151" />
      <span class="time">21:51 – 21:52</span> Task 7
    </div>
    <!-- 21:52 to 21:53 -->
    <div class="item" data-start="21:52" data-end="21:53">
      <input type="checkbox" class="check" data-id="block-2152" />
      <span class="time">21:52 – 21:53</span> Task 8
    </div>
    <!-- 21:53 to 21:54 -->
    <div class="item" data-start="21:53" data-end="21:54">
      <input type="checkbox" class="check" data-id="block-2153" />
      <span class="time">21:53 – 21:54</span> Task 9
    </div>
    <!-- 21:54 to 21:55 -->
    <div class="item" data-start="21:54" data-end="21:55">
      <input type="checkbox" class="check" data-id="block-2154" />
      <span class="time">21:54 – 21:55</span> Task 10
    </div>
    <!-- 21:55 to 21:56 -->
    <div class="item" data-start="21:55" data-end="21:56">
      <input type="checkbox" class="check" data-id="block-2155" />
      <span class="time">21:55 – 21:56</span> Task 11
    </div>
    <!-- 21:56 to 21:57 -->
    <div class="item" data-start="21:56" data-end="21:57">
      <input type="checkbox" class="check" data-id="block-2156" />
      <span class="time">21:56 – 21:57</span> Task 12
    </div>
    <!-- 21:57 to 21:58 -->
    <div class="item" data-start="21:57" data-end="21:58">
      <input type="checkbox" class="check" data-id="block-2157" />
      <span class="time">21:57 – 21:58</span> Task 13
    </div>
    <!-- 21:58 to 21:59 -->
    <div class="item" data-start="21:58" data-end="21:59">
      <input type="checkbox" class="check" data-id="block-2158" />
      <span class="time">21:58 – 21:59</span> Task 14
    </div>
    <!-- 21:59 to 22:00 -->
    <div class="item" data-start="21:59" data-end="22:00">
      <input type="checkbox" class="check" data-id="block-2159" />
      <span class="time">21:59 – 22:00</span> Task 15
    </div>
    <!-- 22:00 to 22:01 -->
    <div class="item" data-start="22:00" data-end="22:01">
      <input type="checkbox" class="check" data-id="block-2200" />
      <span class="time">22:00 – 22:01</span> Task 16
    </div>
    <!-- 22:01 to 22:02 -->
    <div class="item" data-start="22:01" data-end="22:02">
      <input type="checkbox" class="check" data-id="block-2201" />
      <span class="time">22:01 – 22:02</span> Task 17
    </div>
    <!-- 22:02 to 22:03 -->
    <div class="item" data-start="22:02" data-end="22:03">
      <input type="checkbox" class="check" data-id="block-2202" />
      <span class="time">22:02 – 22:03</span> Task 18
    </div>
    <!-- 22:03 to 22:04 -->
    <div class="item" data-start="22:03" data-end="22:04">
      <input type="checkbox" class="check" data-id="block-2203" />
      <span class="time">22:03 – 22:04</span> Task 19
    </div>
    <!-- 22:04 to 22:05 -->
    <div class="item" data-start="22:04" data-end="22:05">
      <input type="checkbox" class="check" data-id="block-2204" />
      <span class="time">22:04 – 22:05</span> Task 20
    </div>
    <!-- 22:05 to 22:06 -->
    <div class="item" data-start="22:05" data-end="22:06">
      <input type="checkbox" class="check" data-id="block-2205" />
      <span class="time">22:05 – 22:06</span> Task 21
    </div>
    <!-- 22:06 to 22:07 -->
    <div class="item" data-start="22:06" data-end="22:07">
      <input type="checkbox" class="check" data-id="block-2206" />
      <span class="time">22:06 – 22:07</span> Task 22
    </div>
    <!-- 22:07 to 22:08 -->
    <div class="item" data-start="22:07" data-end="22:08">
      <input type="checkbox" class="check" data-id="block-2207" />
      <span class="time">22:07 – 22:08</span> Task 23
    </div>
    <!-- 22:08 to 22:09 -->
    <div class="item" data-start="22:08" data-end="22:09">
      <input type="checkbox" class="check" data-id="block-2208" />
      <span class="time">22:08 – 22:09</span> Task 24
    </div>
    <!-- 22:09 to 22:10 -->
    <div class="item" data-start="22:09" data-end="22:10">
      <input type="checkbox" class="check" data-id="block-2209" />
      <span class="time">22:09 – 22:10</span> Task 25
    </div>
    <!-- 22:10 to 22:11 -->
    <div class="item" data-start="22:10" data-end="22:11">
      <input type="checkbox" class="check" data-id="block-2210" />
      <span class="time">22:10 – 22:11</span> Task 26
    </div>
    <!-- 22:11 to 22:12 -->
    <div class="item" data-start="22:11" data-end="22:12">
      <input type="checkbox" class="check" data-id="block-2211" />
      <span class="time">22:11 – 22:12</span> Task 27
    </div>
    <!-- 22:12 to 22:13 -->
    <div class="item" data-start="22:12" data-end="22:13">
      <input type="checkbox" class="check" data-id="block-2212" />
      <span class="time">22:12 – 22:13</span> Task 28
    </div>
    <!-- 22:13 to 22:14 -->
    <div class="item" data-start="22:13" data-end="22:14">
      <input type="checkbox" class="check" data-id="block-2213" />
      <span class="time">22:13 – 22:14</span> Task 29
    </div>
    <!-- 22:14 to 22:15 -->
    <div class="item" data-start="22:14" data-end="22:15">
      <input type="checkbox" class="check" data-id="block-2214" />
      <span class="time">22:14 – 22:15</span> Task 30
    </div>
    <!-- 22:15 to 22:16 -->
    <div class="item" data-start="22:15" data-end="22:16">
      <input type="checkbox" class="check" data-id="block-2215" />
      <span class="time">22:15 – 22:16</span> Task 31
    </div>
    <!-- 22:16 to 22:17 -->
    <div class="item" data-start="22:16" data-end="22:17">
      <input type="checkbox" class="check" data-id="block-2216" />
      <span class="time">22:16 – 22:17</span> Task 32
    </div>
    <!-- 22:17 to 22:18 -->
    <div class="item" data-start="22:17" data-end="22:18">
      <input type="checkbox" class="check" data-id="block-2217" />
      <span class="time">22:17 – 22:18</span> Task 33
    </div>
    <!-- 22:18 to 22:19 -->
    <div class="item" data-start="22:18" data-end="22:19">
      <input type="checkbox" class="check" data-id="block-2218" />
      <span class="time">22:18 – 22:19</span> Task 34
    </div>
    <!-- 22:19 to 22:20 -->
    <div class="item" data-start="22:19" data-end="22:20">
      <input type="checkbox" class="check" data-id="block-2219" />
      <span class="time">22:19 – 22:20</span> Task 35
    </div>
    <!-- 22:20 to 22:21 -->
    <div class="item" data-start="22:20" data-end="22:21">
      <input type="checkbox" class="check" data-id="block-2220" />
      <span class="time">22:20 – 22:21</span> Task 36
    </div>
    <!-- 22:21 to 22:22 -->
    <div class="item" data-start="22:21" data-end="22:22">
      <input type="checkbox" class="check" data-id="block-2221" />
      <span class="time">22:21 – 22:22</span> Task 37
    </div>
    <!-- 22:22 to 22:23 -->
    <div class="item" data-start="22:22" data-end="22:23">
      <input type="checkbox" class="check" data-id="block-2222" />
      <span class="time">22:22 – 22:23</span> Task 38
    </div>
    <!-- 22:23 to 22:24 -->
    <div class="item" data-start="22:23" data-end="22:24">
      <input type="checkbox" class="check" data-id="block-2223" />
      <span class="time">22:23 – 22:24</span> Task 39
    </div>
    <!-- 22:24 to 22:25 -->
    <div class="item" data-start="22:24" data-end="22:25">
      <input type="checkbox" class="check" data-id="block-2224" />
      <span class="time">22:24 – 22:25</span> Task 40
    </div>
    <!-- 22:25 to 22:26 -->
    <div class="item" data-start="22:25" data-end="22:26">
      <input type="checkbox" class="check" data-id="block-2225" />
      <span class="time">22:25 – 22:26</span> Task 41
    </div>
    <!-- 22:26 to 22:27 -->
    <div class="item" data-start="22:26" data-end="22:27">
      <input type="checkbox" class="check" data-id="block-2226" />
      <span class="time">22:26 – 22:27</span> Task 42
    </div>
    <!-- 22:27 to 22:28 -->
    <div class="item" data-start="22:27" data-end="22:28">
      <input type="checkbox" class="check" data-id="block-2227" />
      <span class="time">22:27 – 22:28</span> Task 43
    </div>
    <!-- 22:28 to 22:29 -->
    <div class="item" data-start="22:28" data-end="22:29">
      <input type="checkbox" class="check" data-id="block-2228" />
      <span class="time">22:28 – 22:29</span> Task 44
    </div>
    <!-- 22:29 to 22:30 -->
    <div class="item" data-start="22:29" data-end="22:30">
      <input type="checkbox" class="check" data-id="block-2229" />
      <span class="time">22:29 – 22:30</span> Task 45
    </div>
    <!-- 22:30 to 22:31 -->
    <div class="item" data-start="22:30" data-end="22:31">
      <input type="checkbox" class="check" data-id="block-2230" />
      <span class="time">22:30 – 22:31</span> Task 46
    </div>
    <!-- 22:31 to 22:32 -->
    <div class="item" data-start="22:31" data-end="22:32">
      <input type="checkbox" class="check" data-id="block-2231" />
      <span class="time">22:31 – 22:32</span> Task 47
    </div>
    <!-- 22:32 to 22:33 -->
    <div class="item" data-start="22:32" data-end="22:33">
      <input type="checkbox" class="check" data-id="block-2232" />
      <span class="time">22:32 – 22:33</span> Task 48
    </div>
    <!-- 22:33 to 22:34 -->
    <div class="item" data-start="22:33" data-end="22:34">
      <input type="checkbox" class="check" data-id="block-2233" />
      <span class="time">22:33 – 22:34</span> Task 49
    </div>
    <!-- 22:34 to 22:35 -->
    <div class="item" data-start="22:34" data-end="22:35">
      <input type="checkbox" class="check" data-id="block-2234" />
      <span class="time">22:34 – 22:35</span> Task 50
    </div>
    <!-- 22:35 to 22:36 -->
    <div class="item" data-start="22:35" data-end="22:36">
      <input type="checkbox" class="check" data-id="block-2235" />
      <span class="time">22:35 – 22:36</span> Task 51
    </div>
    <!-- 22:36 to 22:37 -->
    <div class="item" data-start="22:36" data-end="22:37">
      <input type="checkbox" class="check" data-id="block-2236" />
      <span class="time">22:36 – 22:37</span> Task 52
    </div>
    <!-- 22:37 to 22:38 -->
    <div class="item" data-start="22:37" data-end="22:38">
      <input type="checkbox" class="check" data-id="block-2237" />
      <span class="time">22:37 – 22:38</span> Task 53
    </div>
    <!-- 22:38 to 22:39 -->
    <div class="item" data-start="22:38" data-end="22:39">
      <input type="checkbox" class="check" data-id="block-2238" />
      <span class="time">22:38 – 22:39</span> Task 54
    </div>
    <!-- 22:39 to 22:40 -->
    <div class="item" data-start="22:39" data-end="22:40">
      <input type="checkbox" class="check" data-id="block-2239" />
      <span class="time">22:39 – 22:40</span> Task 55
    </div>
    <!-- 22:40 to 22:41 -->
    <div class="item" data-start="22:40" data-end="22:41">
      <input type="checkbox" class="check" data-id="block-2240" />
      <span class="time">22:40 – 22:41</span> Task 56
    </div>
    <!-- 22:41 to 22:42 -->
    <div class="item" data-start="22:41" data-end="22:42">
      <input type="checkbox" class="check" data-id="block-2241" />
      <span class="time">22:41 – 22:42</span> Task 57
    </div>
    <!-- 22:42 to 22:43 -->
    <div class="item" data-start="22:42" data-end="22:43">
      <input type="checkbox" class="check" data-id="block-2242" />
      <span class="time">22:42 – 22:43</span> Task 58
    </div>
    <!-- 22:43 to 22:44 -->
    <div class="item" data-start="22:43" data-end="22:44">
      <input type="checkbox" class="check" data-id="block-2243" />
      <span class="time">22:43 – 22:44</span> Task 59
    </div>
    <!-- 22:44 to 22:45 -->
    <div class="item" data-start="22:44" data-end="22:45">
      <input type="checkbox" class="check" data-id="block-2244" />
      <span class="time">22:44 – 22:45</span> Task 60
    </div>
  </div>
  
  
  

  <script>
    function updateCurrentItem() {
      const now = new Date();
      const currentHour = now.getHours();
      const currentMinutes = now.getMinutes();
      const nowTotal = currentHour * 60 + currentMinutes;
      const scheduleItems = document.querySelectorAll(".schedule .item");

      scheduleItems.forEach(item => {
        const start = item.getAttribute("data-start").split(":");
        const end = item.getAttribute("data-end").split(":");
        const startTotal = parseInt(start[0]) * 60 + parseInt(start[1]);
        const endTotal = parseInt(end[0]) * 60 + parseInt(end[1]);

        if (nowTotal >= startTotal && nowTotal < endTotal) {
          item.classList.add("current");
        } else {
          item.classList.remove("current");
        }
      });
    }

    function updateProgress() {
      const now = new Date();
      const nowTotal = now.getHours() * 60 + now.getMinutes();
      const startMinutes = 14 * 60; // 14:00
      const endMinutes = 22 * 60;   // 22:00
      const percent = Math.min(100, Math.max(0, ((nowTotal - startMinutes) / (endMinutes - startMinutes)) * 100));
      document.getElementById("progressBar").value = percent;
    }

    function updateCurrentTime() {
      const now = new Date();
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      const seconds = now.getSeconds().toString().padStart(2, '0');
      document.getElementById("currentTime").textContent = `Current time: ${hours}:${minutes}:${seconds}`;
    }

    updateCurrentItem();
    updateProgress();
    updateCurrentTime();
    setInterval(() => {
      updateCurrentItem();
      updateProgress();
      updateCurrentTime();
    }, 1000);

    // ⬇️ NEW CHECKBOX LOGIC using data-id ⬇️
    const items = document.querySelectorAll('.item');

    items.forEach(item => {
      const checkbox = item.querySelector('input.check');
      if (!checkbox) return;

      const id = checkbox.getAttribute('data-id');
      const isChecked = localStorage.getItem('task_' + id) === 'true';
      checkbox.checked = isChecked;
      if (isChecked) item.classList.add('checked');

      checkbox.addEventListener('change', () => {
        item.classList.toggle('checked', checkbox.checked);
        localStorage.setItem('task_' + id, checkbox.checked);
      });
    });
  </script>
  
</body>
</html>